<view class="page" data-weui-theme="light">
	<view class="page_bd">
		<view class="weui-form">
			<view class="weui-form__control-area">
				<view class="weui-cells__group weui-cells__group_form">
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">控制组</label></view>
						<view class="weui-cell__bd">
							<input type="number" class="weui-input" placeholder="控制分组编号" value=" {{field.kz.group}}" placeholder-class="weui-input__placeholder" bindinput="setGroup" />
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__bd">
							<textarea class="weui-textarea" placeholder-class="weui-textarea__placeholder" placeholder="输入控制说明信息" bindinput="setDesc" value="{{field.kz.desc}}"></textarea>
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">归属<label style="color:red">*</label></label></view>
						<view class="weui-cell__bd">
							<pickertype index="{{field.typ}}" bind:onChange="onTypChange"></pickertype>
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">名称<label style="color:red">*</label></label></view>
						<view class="weui-cell__bd">
							<input class="weui-input" placeholder="显示名称" value="{{field.name}}" placeholder-class="weui-input__placeholder" bindinput="setName" />
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">单位</label></view>
						<view class="weui-cell__bd">
							<input class="weui-input" placeholder="数量单位" value="{{field.unit}}" placeholder-class="weui-input__placeholder" bindinput="setUnit" />
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">bit位</label></view>
						<view class="weui-cell__bd">
							<input type="number" class="weui-input" placeholder="bit位" value="{{field.bit}}" placeholder-class="weui-input__placeholder" bindinput="setBit" />
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">关注顺序</label></view>
						<view class="weui-cell__bd">
							<input type="number" class="weui-input" value="{{field.focus}}" placeholder="最小为0，不能重复" placeholder-class="weui-input__placeholder" bindinput="setFocus" />
						</view>
					</view>
					<view class="weui-cell weui-cell_active fix" wx:if="{{field.typ==0}}">
						<view class="weui-cell__hd"><label class="weui-label">报警等级</label></view>
						<view class="weui-cell__bd">
							<picker bindchange="bindExTypChange" value="{{field.level}}" range="{{extyp}}">
								<view class="picker">
									<view>{{extyp[field.level]}}</view>
									<view>></view>
								</view>
							</picker>
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">时间内容</label></view>
						<view class="weui-cell__bd">
							<pickervm options="{{tparts}}" index="{{field.part}}" bind:onChange="onTPartChange"></pickervm>
						</view>
					</view>
					<view class="weui-cell weui-cell_active fix">
						<view class="weui-cell__hd"><label class="weui-label">运算</label></view>
						<view class="weui-cell__bd">
							<picker bindchange="mathChange" value="{{field.mathindex}}" range="{{maths}}">
								<view class="picker">
									<view>{{maths[field.mathindex]}}</view>
									<view>></view>
								</view>
							</picker>
						</view>
						<view class="weui-cell__bd">
							<input type="number" class="weui-input" placeholder="运算数" value="{{field.number}}" placeholder-class="weui-input__placeholder" bindinput="setNumber" />
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">数值映射</label></view>
						<view class="weui-cell__bd">
							<pickervm options="{{vm}}" index="{{field.vmindex}}" bind:onChange="onVmChange"></pickervm>
						</view>
					</view>
					<view class="weui-cell weui-cell_active" wx:if="{{field.reftyp!= 'at'}}">
						<view class="weui-cell__hd"><label class="weui-label">关联计算</label></view>
						<view class="weui-cell__bd">
							<picker bindchange="onCountChange" value="{{field.refindex}}" range="{{counts}}" range-key="{{'name'}}">
								<view class="picker">
									<view>{{counts[field.refindex].name}}</view>
									<view>></view>
								</view>
							</picker>
							<!-- <pickervm options="{{counts}}" index="{{field.refindex}}" bind:onChange="onCountChange"></pickervm> -->
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">关联计算值</label></view>
						<view class="weui-cell__bd">
							<input type="number" class="weui-input" placeholder="有效值" value="{{field.cv}}" placeholder-class="weui-input__placeholder" bindinput="setCv" />
						</view>
					</view>
					<view class="weui-cell weui-cell_active"  wx:if="{{field.reftyp!= 'count'}}">
						<view class="weui-cell__hd"><label class="weui-label">炉子动画</label></view>
						<view class="weui-cell__bd">
							<picker bindchange="onFireChange" value="{{field.refindex}}" range="{{fires}}" range-key="{{'name'}}">
								<view class="picker">
									<view>{{fires[field.fire].name}}</view>
									<view>></view>
								</view>
							</picker>
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">燃烧器</label></view>
						<view class="weui-cell__bd weui-cells_checkbox">
							<checkbox-group bindchange="fireCtlChange">
								<label class="weui-cell weui-cell_active weui-check__label">
									<view class="weui-cell__hd">
										<checkbox class="weui-check" checked="{{field.ctl}}" />
										<i class="weui-icon-checked"></i>
									</view>
									<view class="weui-cell__bd">
										<view>启停</view>
									</view>
								</label>
							</checkbox-group>
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">是否为系统状态</label></view>
						<view class="weui-cell__bd weui-cells_checkbox">
							<checkbox-group bindchange="systatusChange">
								<label class="weui-cell weui-cell_active weui-check__label">
									<view class="weui-cell__hd">
										<checkbox class="weui-check" checked="{{field.systatus}}" />
										<i class="weui-icon-checked"></i>
									</view>
								
								</label>
							</checkbox-group>
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">泵动画</label></view>
						<view class="weui-cell__bd">
							<picker bindchange="onBengChange" value="{{field.beng}}" range="{{bengs}}" range-key="{{'name'}}">
								<view class="picker">
									<view>{{bengs[field.beng].name}}</view>
									<view>></view>
								</view>
							</picker>
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">风机动画</label></view>
						<view class="weui-cell__bd">
							<picker bindchange="onFanChange" value="{{field.fan}}" range="{{fans}}" range-key="{{'name'}}">
								<view class="picker">
									<view>{{fans[field.fan].name}}</view>
									<view>></view>
								</view>
							</picker>
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">量程下限</label></view>
						<view class="weui-cell__bd">
							<input type="number" class="weui-input" placeholder="不用不填" value=" {{field.input.min}}" placeholder-class="weui-input__placeholder" bindinput="setMin" />
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<view class="weui-cell__hd"><label class="weui-label">量程上限</label></view>
						<view class="weui-cell__bd">
							<input type="number" class="weui-input" placeholder="不用不填" value=" {{field.input.max}}" placeholder-class="weui-input__placeholder" bindinput="setMax" />
						</view>
					</view>
					<view class="weui-cell weui-cell_active">
						<a class="weui-btn weui-btn_primary" bindtap="save">保存</a>
					</view>
				</view>
			</view>
		</view>
	</view>
</view>